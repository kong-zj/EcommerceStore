{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport React, { useContext } from 'react';\nimport { DownOutlined, CloseOutlined } from '@ant-design/icons';\nimport classNames from 'classnames';\nimport { useIntl } from '@ant-design/pro-provider';\nimport './index.less';\n\nvar FieldLabel = function FieldLabel(props) {\n  var _classNames;\n\n  var label = props.label,\n      onClear = props.onClear,\n      value = props.value,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'middle' : _props$size,\n      disabled = props.disabled,\n      ellipsis = props.ellipsis,\n      placeholder = props.placeholder,\n      className = props.className,\n      style = props.style,\n      formatter = props.formatter,\n      bordered = props.bordered,\n      _props$allowClear = props.allowClear,\n      allowClear = _props$allowClear === void 0 ? true : _props$allowClear;\n\n  var _useContext = useContext(_ConfigProvider.ConfigContext),\n      getPrefixCls = _useContext.getPrefixCls;\n\n  var prefixCls = getPrefixCls('pro-core-field-label');\n  var intl = useIntl();\n\n  var formatterText = function formatterText(aValue) {\n    if (formatter) {\n      return formatter(aValue);\n    }\n\n    return Array.isArray(aValue) ? aValue.join(',') : String(aValue);\n  };\n\n  var getTextByValue = function getTextByValue(aLabel, aValue) {\n    if (aValue !== undefined && aValue !== null && aValue !== '' && (!Array.isArray(aValue) || aValue.length)) {\n      var _str$toString, _str$toString$substr;\n\n      var prefix = aLabel ? /*#__PURE__*/React.createElement(React.Fragment, null, aLabel, ': ') : '';\n      var str = formatterText(aValue);\n\n      if (!ellipsis) {\n        return /*#__PURE__*/React.createElement(\"span\", null, prefix, formatterText(aValue));\n      }\n\n      var getText = function getText() {\n        var isArrayValue = Array.isArray(aValue) && aValue.length > 1;\n        var unitText = intl.getMessage('form.lightFilter.itemUnit', '项');\n\n        if (str.length > 32 && isArrayValue) {\n          return \"...\".concat(aValue.length).concat(unitText);\n        }\n\n        return '';\n      };\n\n      var tail = getText();\n      return /*#__PURE__*/React.createElement(\"span\", {\n        title: str\n      }, prefix, str === null || str === void 0 ? void 0 : (_str$toString = str.toString()) === null || _str$toString === void 0 ? void 0 : (_str$toString$substr = _str$toString.substr) === null || _str$toString$substr === void 0 ? void 0 : _str$toString$substr.call(_str$toString, 0, 32), tail);\n    }\n\n    return aLabel || placeholder;\n  };\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: classNames(prefixCls, \"\".concat(prefixCls, \"-\").concat(size), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-active\"), !!value || value === 0), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-bordered\"), bordered), _defineProperty(_classNames, \"\".concat(prefixCls, \"-allow-clear\"), allowClear), _classNames), className),\n    style: style\n  }, getTextByValue(label, value), (value || value === 0) && allowClear && /*#__PURE__*/React.createElement(CloseOutlined, {\n    className: classNames(\"\".concat(prefixCls, \"-icon\"), \"\".concat(prefixCls, \"-close\")),\n    onClick: function onClick(e) {\n      if (onClear && !disabled) {\n        onClear();\n      }\n\n      e.stopPropagation();\n    }\n  }), /*#__PURE__*/React.createElement(DownOutlined, {\n    className: classNames(\"\".concat(prefixCls, \"-icon\"), \"\".concat(prefixCls, \"-arrow\"))\n  }));\n};\n\nexport default FieldLabel;","map":{"version":3,"sources":["/home/kzj/project/finalize/final/code/react_code/node_modules/@ant-design/pro-card/node_modules/@ant-design/pro-utils/es/components/FieldLabel/index.js"],"names":["_defineProperty","_ConfigProvider","React","useContext","DownOutlined","CloseOutlined","classNames","useIntl","FieldLabel","props","_classNames","label","onClear","value","_props$size","size","disabled","ellipsis","placeholder","className","style","formatter","bordered","_props$allowClear","allowClear","_useContext","ConfigContext","getPrefixCls","prefixCls","intl","formatterText","aValue","Array","isArray","join","String","getTextByValue","aLabel","undefined","length","_str$toString","_str$toString$substr","prefix","createElement","Fragment","str","getText","isArrayValue","unitText","getMessage","concat","tail","title","toString","substr","call","onClick","e","stopPropagation"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,2CAA5B;AACA,OAAO,+BAAP;AACA,OAAOC,eAAP,MAA4B,yBAA5B;AACA,OAAOC,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SAASC,YAAT,EAAuBC,aAAvB,QAA4C,mBAA5C;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,OAAT,QAAwB,0BAAxB;AACA,OAAO,cAAP;;AAEA,IAAIC,UAAU,GAAG,SAASA,UAAT,CAAoBC,KAApB,EAA2B;AAC1C,MAAIC,WAAJ;;AAEA,MAAIC,KAAK,GAAGF,KAAK,CAACE,KAAlB;AAAA,MACIC,OAAO,GAAGH,KAAK,CAACG,OADpB;AAAA,MAEIC,KAAK,GAAGJ,KAAK,CAACI,KAFlB;AAAA,MAGIC,WAAW,GAAGL,KAAK,CAACM,IAHxB;AAAA,MAIIA,IAAI,GAAGD,WAAW,KAAK,KAAK,CAArB,GAAyB,QAAzB,GAAoCA,WAJ/C;AAAA,MAKIE,QAAQ,GAAGP,KAAK,CAACO,QALrB;AAAA,MAMIC,QAAQ,GAAGR,KAAK,CAACQ,QANrB;AAAA,MAOIC,WAAW,GAAGT,KAAK,CAACS,WAPxB;AAAA,MAQIC,SAAS,GAAGV,KAAK,CAACU,SARtB;AAAA,MASIC,KAAK,GAAGX,KAAK,CAACW,KATlB;AAAA,MAUIC,SAAS,GAAGZ,KAAK,CAACY,SAVtB;AAAA,MAWIC,QAAQ,GAAGb,KAAK,CAACa,QAXrB;AAAA,MAYIC,iBAAiB,GAAGd,KAAK,CAACe,UAZ9B;AAAA,MAaIA,UAAU,GAAGD,iBAAiB,KAAK,KAAK,CAA3B,GAA+B,IAA/B,GAAsCA,iBAbvD;;AAeA,MAAIE,WAAW,GAAGtB,UAAU,CAACF,eAAe,CAACyB,aAAjB,CAA5B;AAAA,MACIC,YAAY,GAAGF,WAAW,CAACE,YAD/B;;AAGA,MAAIC,SAAS,GAAGD,YAAY,CAAC,sBAAD,CAA5B;AACA,MAAIE,IAAI,GAAGtB,OAAO,EAAlB;;AAEA,MAAIuB,aAAa,GAAG,SAASA,aAAT,CAAuBC,MAAvB,EAA+B;AACjD,QAAIV,SAAJ,EAAe;AACb,aAAOA,SAAS,CAACU,MAAD,CAAhB;AACD;;AAED,WAAOC,KAAK,CAACC,OAAN,CAAcF,MAAd,IAAwBA,MAAM,CAACG,IAAP,CAAY,GAAZ,CAAxB,GAA2CC,MAAM,CAACJ,MAAD,CAAxD;AACD,GAND;;AAQA,MAAIK,cAAc,GAAG,SAASA,cAAT,CAAwBC,MAAxB,EAAgCN,MAAhC,EAAwC;AAC3D,QAAIA,MAAM,KAAKO,SAAX,IAAwBP,MAAM,KAAK,IAAnC,IAA2CA,MAAM,KAAK,EAAtD,KAA6D,CAACC,KAAK,CAACC,OAAN,CAAcF,MAAd,CAAD,IAA0BA,MAAM,CAACQ,MAA9F,CAAJ,EAA2G;AACzG,UAAIC,aAAJ,EAAmBC,oBAAnB;;AAEA,UAAIC,MAAM,GAAGL,MAAM,GAAG,aAAanC,KAAK,CAACyC,aAAN,CAAoBzC,KAAK,CAAC0C,QAA1B,EAAoC,IAApC,EAA0CP,MAA1C,EAAkD,IAAlD,CAAhB,GAA0E,EAA7F;AACA,UAAIQ,GAAG,GAAGf,aAAa,CAACC,MAAD,CAAvB;;AAEA,UAAI,CAACd,QAAL,EAAe;AACb,eAAO,aAAaf,KAAK,CAACyC,aAAN,CAAoB,MAApB,EAA4B,IAA5B,EAAkCD,MAAlC,EAA0CZ,aAAa,CAACC,MAAD,CAAvD,CAApB;AACD;;AAED,UAAIe,OAAO,GAAG,SAASA,OAAT,GAAmB;AAC/B,YAAIC,YAAY,GAAGf,KAAK,CAACC,OAAN,CAAcF,MAAd,KAAyBA,MAAM,CAACQ,MAAP,GAAgB,CAA5D;AACA,YAAIS,QAAQ,GAAGnB,IAAI,CAACoB,UAAL,CAAgB,2BAAhB,EAA6C,GAA7C,CAAf;;AAEA,YAAIJ,GAAG,CAACN,MAAJ,GAAa,EAAb,IAAmBQ,YAAvB,EAAqC;AACnC,iBAAO,MAAMG,MAAN,CAAanB,MAAM,CAACQ,MAApB,EAA4BW,MAA5B,CAAmCF,QAAnC,CAAP;AACD;;AAED,eAAO,EAAP;AACD,OATD;;AAWA,UAAIG,IAAI,GAAGL,OAAO,EAAlB;AACA,aAAO,aAAa5C,KAAK,CAACyC,aAAN,CAAoB,MAApB,EAA4B;AAC9CS,QAAAA,KAAK,EAAEP;AADuC,OAA5B,EAEjBH,MAFiB,EAETG,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAK,KAAK,CAA7B,GAAiC,KAAK,CAAtC,GAA0C,CAACL,aAAa,GAAGK,GAAG,CAACQ,QAAJ,EAAjB,MAAqC,IAArC,IAA6Cb,aAAa,KAAK,KAAK,CAApE,GAAwE,KAAK,CAA7E,GAAiF,CAACC,oBAAoB,GAAGD,aAAa,CAACc,MAAtC,MAAkD,IAAlD,IAA0Db,oBAAoB,KAAK,KAAK,CAAxF,GAA4F,KAAK,CAAjG,GAAqGA,oBAAoB,CAACc,IAArB,CAA0Bf,aAA1B,EAAyC,CAAzC,EAA4C,EAA5C,CAFvN,EAEwQW,IAFxQ,CAApB;AAGD;;AAED,WAAOd,MAAM,IAAInB,WAAjB;AACD,GA7BD;;AA+BA,SAAO,aAAahB,KAAK,CAACyC,aAAN,CAAoB,MAApB,EAA4B;AAC9CxB,IAAAA,SAAS,EAAEb,UAAU,CAACsB,SAAD,EAAY,GAAGsB,MAAH,CAAUtB,SAAV,EAAqB,GAArB,EAA0BsB,MAA1B,CAAiCnC,IAAjC,CAAZ,GAAqDL,WAAW,GAAG,EAAd,EAAkBV,eAAe,CAACU,WAAD,EAAc,GAAGwC,MAAH,CAAUtB,SAAV,EAAqB,SAArB,CAAd,EAA+C,CAAC,CAACf,KAAF,IAAWA,KAAK,KAAK,CAApE,CAAjC,EAAyGb,eAAe,CAACU,WAAD,EAAc,GAAGwC,MAAH,CAAUtB,SAAV,EAAqB,WAArB,CAAd,EAAiDZ,QAAjD,CAAxH,EAAoLhB,eAAe,CAACU,WAAD,EAAc,GAAGwC,MAAH,CAAUtB,SAAV,EAAqB,WAArB,CAAd,EAAiDN,QAAjD,CAAnM,EAA+PtB,eAAe,CAACU,WAAD,EAAc,GAAGwC,MAAH,CAAUtB,SAAV,EAAqB,cAArB,CAAd,EAAoDJ,UAApD,CAA9Q,EAA+Ud,WAApY,GAAkZS,SAAlZ,CADyB;AAE9CC,IAAAA,KAAK,EAAEA;AAFuC,GAA5B,EAGjBgB,cAAc,CAACzB,KAAD,EAAQE,KAAR,CAHG,EAGa,CAACA,KAAK,IAAIA,KAAK,KAAK,CAApB,KAA0BW,UAA1B,IAAwC,aAAatB,KAAK,CAACyC,aAAN,CAAoBtC,aAApB,EAAmC;AACvHc,IAAAA,SAAS,EAAEb,UAAU,CAAC,GAAG4C,MAAH,CAAUtB,SAAV,EAAqB,OAArB,CAAD,EAAgC,GAAGsB,MAAH,CAAUtB,SAAV,EAAqB,QAArB,CAAhC,CADkG;AAEvH4B,IAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBC,CAAjB,EAAoB;AAC3B,UAAI7C,OAAO,IAAI,CAACI,QAAhB,EAA0B;AACxBJ,QAAAA,OAAO;AACR;;AAED6C,MAAAA,CAAC,CAACC,eAAF;AACD;AARsH,GAAnC,CAHlE,EAYhB,aAAaxD,KAAK,CAACyC,aAAN,CAAoBvC,YAApB,EAAkC;AACjDe,IAAAA,SAAS,EAAEb,UAAU,CAAC,GAAG4C,MAAH,CAAUtB,SAAV,EAAqB,OAArB,CAAD,EAAgC,GAAGsB,MAAH,CAAUtB,SAAV,EAAqB,QAArB,CAAhC;AAD4B,GAAlC,CAZG,CAApB;AAeD,CA9ED;;AAgFA,eAAepB,UAAf","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport React, { useContext } from 'react';\nimport { DownOutlined, CloseOutlined } from '@ant-design/icons';\nimport classNames from 'classnames';\nimport { useIntl } from '@ant-design/pro-provider';\nimport './index.less';\n\nvar FieldLabel = function FieldLabel(props) {\n  var _classNames;\n\n  var label = props.label,\n      onClear = props.onClear,\n      value = props.value,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'middle' : _props$size,\n      disabled = props.disabled,\n      ellipsis = props.ellipsis,\n      placeholder = props.placeholder,\n      className = props.className,\n      style = props.style,\n      formatter = props.formatter,\n      bordered = props.bordered,\n      _props$allowClear = props.allowClear,\n      allowClear = _props$allowClear === void 0 ? true : _props$allowClear;\n\n  var _useContext = useContext(_ConfigProvider.ConfigContext),\n      getPrefixCls = _useContext.getPrefixCls;\n\n  var prefixCls = getPrefixCls('pro-core-field-label');\n  var intl = useIntl();\n\n  var formatterText = function formatterText(aValue) {\n    if (formatter) {\n      return formatter(aValue);\n    }\n\n    return Array.isArray(aValue) ? aValue.join(',') : String(aValue);\n  };\n\n  var getTextByValue = function getTextByValue(aLabel, aValue) {\n    if (aValue !== undefined && aValue !== null && aValue !== '' && (!Array.isArray(aValue) || aValue.length)) {\n      var _str$toString, _str$toString$substr;\n\n      var prefix = aLabel ? /*#__PURE__*/React.createElement(React.Fragment, null, aLabel, ': ') : '';\n      var str = formatterText(aValue);\n\n      if (!ellipsis) {\n        return /*#__PURE__*/React.createElement(\"span\", null, prefix, formatterText(aValue));\n      }\n\n      var getText = function getText() {\n        var isArrayValue = Array.isArray(aValue) && aValue.length > 1;\n        var unitText = intl.getMessage('form.lightFilter.itemUnit', '项');\n\n        if (str.length > 32 && isArrayValue) {\n          return \"...\".concat(aValue.length).concat(unitText);\n        }\n\n        return '';\n      };\n\n      var tail = getText();\n      return /*#__PURE__*/React.createElement(\"span\", {\n        title: str\n      }, prefix, str === null || str === void 0 ? void 0 : (_str$toString = str.toString()) === null || _str$toString === void 0 ? void 0 : (_str$toString$substr = _str$toString.substr) === null || _str$toString$substr === void 0 ? void 0 : _str$toString$substr.call(_str$toString, 0, 32), tail);\n    }\n\n    return aLabel || placeholder;\n  };\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: classNames(prefixCls, \"\".concat(prefixCls, \"-\").concat(size), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-active\"), !!value || value === 0), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-bordered\"), bordered), _defineProperty(_classNames, \"\".concat(prefixCls, \"-allow-clear\"), allowClear), _classNames), className),\n    style: style\n  }, getTextByValue(label, value), (value || value === 0) && allowClear && /*#__PURE__*/React.createElement(CloseOutlined, {\n    className: classNames(\"\".concat(prefixCls, \"-icon\"), \"\".concat(prefixCls, \"-close\")),\n    onClick: function onClick(e) {\n      if (onClear && !disabled) {\n        onClear();\n      }\n\n      e.stopPropagation();\n    }\n  }), /*#__PURE__*/React.createElement(DownOutlined, {\n    className: classNames(\"\".concat(prefixCls, \"-icon\"), \"\".concat(prefixCls, \"-arrow\"))\n  }));\n};\n\nexport default FieldLabel;"]},"metadata":{},"sourceType":"module"}