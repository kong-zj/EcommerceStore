{"ast":null,"code":"import \"antd/es/card/style\";\nimport _Card from \"antd/es/card\";\nvar _jsxFileName = \"/home/kzj/project/finalize/final/code/react_code/src/pages/TotalChart/index.jsx\";\nimport React, { Component } from 'react';\nimport * as echarts from 'echarts/core';\nimport { GridComponent, TitleComponent, TooltipComponent, ToolboxComponent } from 'echarts/components';\nimport { CanvasRenderer } from 'echarts/renderers';\nimport { LineChart } from 'echarts/charts';\nimport './index.css';\nimport renderStatistics from '../../utils/renderStatistics';\nimport ProductChart from \"../../components/ProductsChart\";\nimport getWeb3 from \"../../utils/getWeb3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\necharts.use([GridComponent, LineChart, CanvasRenderer, TitleComponent, TooltipComponent, ToolboxComponent]);\nexport default class TotalChart extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      web3: null,\n      account: null\n    };\n\n    this.getNumInfo = async process => {\n      //process 可能的值为\n      // escrow_through, success_precent, product_all_num, product_user_num, bid_user_num, buy_user_num, sell_earn, arbit_earn\n      console.log(\"TotalChart中的 web3 : \");\n      console.dir(await getWeb3());\n      let result = await renderStatistics({\n        process: process,\n        address: this.state.account\n      });\n      console.log(\"向后端请求数据 renderStatistics, process = \" + process + \" 请求到的数据为 : \");\n      console.dir(result.data);\n      return 12345;\n    };\n  }\n\n  async componentDidMount() {\n    const web3 = await getWeb3();\n    let account = await web3.eth.getAccounts();\n    this.setState({\n      web3: web3,\n      account: account\n    });\n  } //注意同步，不然还没得到结果，就把null返回了\n\n\n  render() {\n    const {\n      onlineNumber,\n      offlineNumber,\n      deviceArray\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ProductChart, {\n        escrow_through: this.getNumInfo(\"escrow_through\"),\n        success_precent: this.getNumInfo(\"success_precent\"),\n        product_all_num: this.getNumInfo(\"product_all_num\"),\n        product_user_num: this.getNumInfo(\"product_user_num\"),\n        bid_user_num: this.getNumInfo(\"bid_user_num\"),\n        buy_user_num: this.getNumInfo(\"buy_user_num\"),\n        sell_earn: this.getNumInfo(\"sell_earn\"),\n        arbit_earn: this.getNumInfo(\"arbit_earn\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"chartContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"TotalChart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"dataContainer\",\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between'\n          },\n          children: /*#__PURE__*/_jsxDEV(_Card, {\n            title: \"\\u6700\\u8FD1\\u6D88\\u606F\",\n            bordered: false,\n            className: 'indexChart',\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '100%'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u4F60\\u597D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"dataChart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/kzj/project/finalize/final/code/react_code/src/pages/TotalChart/index.jsx"],"names":["React","Component","echarts","GridComponent","TitleComponent","TooltipComponent","ToolboxComponent","CanvasRenderer","LineChart","renderStatistics","ProductChart","getWeb3","use","TotalChart","state","web3","account","getNumInfo","process","console","log","dir","result","address","data","componentDidMount","eth","getAccounts","setState","render","onlineNumber","offlineNumber","deviceArray","display","justifyContent","width"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport * as echarts from 'echarts/core';\nimport {GridComponent, TitleComponent, TooltipComponent, ToolboxComponent } from 'echarts/components';\nimport {CanvasRenderer} from 'echarts/renderers';\nimport {Card} from 'antd';\n\nimport { LineChart } from 'echarts/charts';\nimport './index.css'\nimport renderStatistics from '../../utils/renderStatistics'\n\nimport ProductChart from \"../../components/ProductsChart\"\n\nimport getWeb3 from \"../../utils/getWeb3\";\n\necharts.use(\n    [GridComponent, LineChart, CanvasRenderer, TitleComponent, TooltipComponent, ToolboxComponent]\n);\n\nexport default class TotalChart extends Component {\n\n    state = {\n        web3 : null,\n        account : null,\n    }\n\n    async componentDidMount () {\n        const web3 = await getWeb3();\n        let account = await web3.eth.getAccounts();\n\n        this.setState({\n             web3: web3,\n             account: account\n            });\n\n    }\n\n    //注意同步，不然还没得到结果，就把null返回了\n    getNumInfo = async(process) => {\n        //process 可能的值为\n        // escrow_through, success_precent, product_all_num, product_user_num, bid_user_num, buy_user_num, sell_earn, arbit_earn\n\n        console.log(\"TotalChart中的 web3 : \");\n        console.dir(await getWeb3());\n\n        let result = await renderStatistics({ process: process, address: this.state.account });\n        console.log(\"向后端请求数据 renderStatistics, process = \" + process + \" 请求到的数据为 : \");\n        console.dir(result.data);\n\n        return 12345;\n    }\n\n    render () {\n        const {onlineNumber, offlineNumber, deviceArray} = this.state;\n        return (\n            <div>\n                {/* 函数组件的传参 */}\n                {/* , escrow_through, success_precent, product_all_num, product_user_num, bid_user_num, buy_user_num, sell_earn, arbit_earn */}\n            <ProductChart\n                escrow_through={this.getNumInfo(\"escrow_through\")}\n                success_precent={this.getNumInfo(\"success_precent\")}\n                product_all_num={this.getNumInfo(\"product_all_num\")}\n                product_user_num={this.getNumInfo(\"product_user_num\")}\n                bid_user_num={this.getNumInfo(\"bid_user_num\")}\n                buy_user_num={this.getNumInfo(\"buy_user_num\")}\n                sell_earn={this.getNumInfo(\"sell_earn\")}\n                arbit_earn={this.getNumInfo(\"arbit_earn\")}\n\n            ></ProductChart>\n\n            \n            <div id='chartContainer'>\n                <div id=\"TotalChart\">\n                    \n                </div>\n                <div id=\"dataContainer\" style={{display:'flex', justifyContent:'space-between'}}>\n                    <Card title=\"最近消息\" bordered={false} className={'indexChart'}>\n                        <div style={{width:'100%'}}>\n\n                        <p>你好</p>\n                        \n                            <div id='dataChart'/>   \n                        </div>\n                    </Card>\n                </div>\n            </div>\n        \n        </div>\n\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}