{"ast":null,"code":"import \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport \"antd/es/popover/style\";\nimport _Popover from \"antd/es/popover\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar _excluded = [\"label\", \"rules\", \"name\", \"children\", \"popoverProps\"],\n    _excluded2 = [\"errorType\", \"rules\", \"name\", \"popoverProps\", \"children\"];\nimport React, { useState, useEffect, useContext } from 'react';\nimport './index.less';\nimport { LoadingOutlined } from '@ant-design/icons';\nvar FIX_INLINE_STYLE = {\n  marginTop: -5,\n  marginBottom: -5,\n  marginLeft: 0,\n  marginRight: 0\n};\n\nvar InlineErrorFormItem = function InlineErrorFormItem(_ref) {\n  var inputProps = _ref.inputProps,\n      input = _ref.input,\n      extra = _ref.extra,\n      errorList = _ref.errorList,\n      popoverProps = _ref.popoverProps;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      visible = _useState2[0],\n      setVisible = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errorStringList = _useState4[0],\n      setErrorList = _useState4[1];\n\n  var _useContext = useContext(_ConfigProvider.ConfigContext),\n      getPrefixCls = _useContext.getPrefixCls;\n\n  useEffect(function () {\n    if (inputProps.validateStatus !== 'validating') {\n      setErrorList(inputProps.errors);\n    }\n  }, [inputProps.errors, inputProps.validateStatus]);\n  var prefixCls = getPrefixCls();\n  return /*#__PURE__*/React.createElement(_Popover, {\n    key: \"popover\",\n    trigger: (popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.trigger) || 'focus',\n    placement: (popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.placement) || 'topRight',\n    visible: errorStringList.length < 1 ? false : visible,\n    onVisibleChange: function onVisibleChange(visibleParams) {\n      if (visibleParams === visible) return;\n      setVisible(visibleParams);\n    },\n    getPopupContainer: popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.getPopupContainer,\n    getTooltipContainer: popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.getTooltipContainer,\n    content: /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-form-item-with-help\")\n    }, inputProps.validateStatus === 'validating' ? /*#__PURE__*/React.createElement(LoadingOutlined, null) : null, errorList)\n  }, /*#__PURE__*/React.createElement(\"div\", null, input, extra));\n};\n\nvar InternalFormItem = function InternalFormItem(_ref2) {\n  var label = _ref2.label,\n      rules = _ref2.rules,\n      name = _ref2.name,\n      children = _ref2.children,\n      popoverProps = _ref2.popoverProps,\n      rest = _objectWithoutProperties(_ref2, _excluded);\n\n  return /*#__PURE__*/React.createElement(_Form.Item, _extends({\n    preserve: false,\n    name: name,\n    rules: rules,\n    hasFeedback: true // @ts-ignore\n    ,\n    _internalItemRender: {\n      mark: 'pro_table_render',\n      render: function render(inputProps, doms) {\n        return /*#__PURE__*/React.createElement(InlineErrorFormItem, _extends({\n          inputProps: inputProps,\n          popoverProps: popoverProps\n        }, doms));\n      }\n    }\n  }, rest, {\n    style: _objectSpread(_objectSpread({}, FIX_INLINE_STYLE), rest === null || rest === void 0 ? void 0 : rest.style)\n  }), children);\n};\n\nexport default (function (props) {\n  var errorType = props.errorType,\n      rules = props.rules,\n      name = props.name,\n      popoverProps = props.popoverProps,\n      children = props.children,\n      rest = _objectWithoutProperties(props, _excluded2);\n\n  if (name && (rules === null || rules === void 0 ? void 0 : rules.length) && errorType === 'popover') {\n    return /*#__PURE__*/React.createElement(InternalFormItem, _extends({\n      name: name,\n      rules: rules,\n      popoverProps: popoverProps\n    }, rest), children);\n  }\n\n  return /*#__PURE__*/React.createElement(_Form.Item, _extends({\n    rules: rules\n  }, rest, {\n    style: _objectSpread(_objectSpread({}, FIX_INLINE_STYLE), rest.style),\n    name: name\n  }), children);\n});","map":{"version":3,"sources":["/home/kzj/project/finalize/final/code/react_code/node_modules/@ant-design/pro-card/node_modules/@ant-design/pro-utils/es/components/InlineErrorFormItem/index.js"],"names":["_Form","_objectSpread","_extends","_objectWithoutProperties","_Popover","_ConfigProvider","_slicedToArray","_excluded","_excluded2","React","useState","useEffect","useContext","LoadingOutlined","FIX_INLINE_STYLE","marginTop","marginBottom","marginLeft","marginRight","InlineErrorFormItem","_ref","inputProps","input","extra","errorList","popoverProps","_useState","_useState2","visible","setVisible","_useState3","_useState4","errorStringList","setErrorList","_useContext","ConfigContext","getPrefixCls","validateStatus","errors","prefixCls","createElement","key","trigger","placement","length","onVisibleChange","visibleParams","getPopupContainer","getTooltipContainer","content","className","concat","InternalFormItem","_ref2","label","rules","name","children","rest","Item","preserve","hasFeedback","_internalItemRender","mark","render","doms","style","props","errorType"],"mappings":"AAAA,OAAO,oBAAP;AACA,OAAOA,KAAP,MAAkB,cAAlB;AACA,OAAOC,aAAP,MAA0B,0CAA1B;AACA,OAAOC,QAAP,MAAqB,oCAArB;AACA,OAAOC,wBAAP,MAAqC,oDAArC;AACA,OAAO,uBAAP;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,OAAO,+BAAP;AACA,OAAOC,eAAP,MAA4B,yBAA5B;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,IAAIC,SAAS,GAAG,CAAC,OAAD,EAAU,OAAV,EAAmB,MAAnB,EAA2B,UAA3B,EAAuC,cAAvC,CAAhB;AAAA,IACIC,UAAU,GAAG,CAAC,WAAD,EAAc,OAAd,EAAuB,MAAvB,EAA+B,cAA/B,EAA+C,UAA/C,CADjB;AAEA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAO,cAAP;AACA,SAASC,eAAT,QAAgC,mBAAhC;AACA,IAAIC,gBAAgB,GAAG;AACrBC,EAAAA,SAAS,EAAE,CAAC,CADS;AAErBC,EAAAA,YAAY,EAAE,CAAC,CAFM;AAGrBC,EAAAA,UAAU,EAAE,CAHS;AAIrBC,EAAAA,WAAW,EAAE;AAJQ,CAAvB;;AAOA,IAAIC,mBAAmB,GAAG,SAASA,mBAAT,CAA6BC,IAA7B,EAAmC;AAC3D,MAAIC,UAAU,GAAGD,IAAI,CAACC,UAAtB;AAAA,MACIC,KAAK,GAAGF,IAAI,CAACE,KADjB;AAAA,MAEIC,KAAK,GAAGH,IAAI,CAACG,KAFjB;AAAA,MAGIC,SAAS,GAAGJ,IAAI,CAACI,SAHrB;AAAA,MAIIC,YAAY,GAAGL,IAAI,CAACK,YAJxB;;AAMA,MAAIC,SAAS,GAAGhB,QAAQ,CAAC,KAAD,CAAxB;AAAA,MACIiB,UAAU,GAAGrB,cAAc,CAACoB,SAAD,EAAY,CAAZ,CAD/B;AAAA,MAEIE,OAAO,GAAGD,UAAU,CAAC,CAAD,CAFxB;AAAA,MAGIE,UAAU,GAAGF,UAAU,CAAC,CAAD,CAH3B;;AAKA,MAAIG,UAAU,GAAGpB,QAAQ,CAAC,EAAD,CAAzB;AAAA,MACIqB,UAAU,GAAGzB,cAAc,CAACwB,UAAD,EAAa,CAAb,CAD/B;AAAA,MAEIE,eAAe,GAAGD,UAAU,CAAC,CAAD,CAFhC;AAAA,MAGIE,YAAY,GAAGF,UAAU,CAAC,CAAD,CAH7B;;AAKA,MAAIG,WAAW,GAAGtB,UAAU,CAACP,eAAe,CAAC8B,aAAjB,CAA5B;AAAA,MACIC,YAAY,GAAGF,WAAW,CAACE,YAD/B;;AAGAzB,EAAAA,SAAS,CAAC,YAAY;AACpB,QAAIU,UAAU,CAACgB,cAAX,KAA8B,YAAlC,EAAgD;AAC9CJ,MAAAA,YAAY,CAACZ,UAAU,CAACiB,MAAZ,CAAZ;AACD;AACF,GAJQ,EAIN,CAACjB,UAAU,CAACiB,MAAZ,EAAoBjB,UAAU,CAACgB,cAA/B,CAJM,CAAT;AAKA,MAAIE,SAAS,GAAGH,YAAY,EAA5B;AACA,SAAO,aAAa3B,KAAK,CAAC+B,aAAN,CAAoBpC,QAApB,EAA8B;AAChDqC,IAAAA,GAAG,EAAE,SAD2C;AAEhDC,IAAAA,OAAO,EAAE,CAACjB,YAAY,KAAK,IAAjB,IAAyBA,YAAY,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,YAAY,CAACiB,OAA1E,KAAsF,OAF/C;AAGhDC,IAAAA,SAAS,EAAE,CAAClB,YAAY,KAAK,IAAjB,IAAyBA,YAAY,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,YAAY,CAACkB,SAA1E,KAAwF,UAHnD;AAIhDf,IAAAA,OAAO,EAAEI,eAAe,CAACY,MAAhB,GAAyB,CAAzB,GAA6B,KAA7B,GAAqChB,OAJE;AAKhDiB,IAAAA,eAAe,EAAE,SAASA,eAAT,CAAyBC,aAAzB,EAAwC;AACvD,UAAIA,aAAa,KAAKlB,OAAtB,EAA+B;AAC/BC,MAAAA,UAAU,CAACiB,aAAD,CAAV;AACD,KAR+C;AAShDC,IAAAA,iBAAiB,EAAEtB,YAAY,KAAK,IAAjB,IAAyBA,YAAY,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,YAAY,CAACsB,iBAT5C;AAUhDC,IAAAA,mBAAmB,EAAEvB,YAAY,KAAK,IAAjB,IAAyBA,YAAY,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,YAAY,CAACuB,mBAV9C;AAWhDC,IAAAA,OAAO,EAAE,aAAaxC,KAAK,CAAC+B,aAAN,CAAoB,KAApB,EAA2B;AAC/CU,MAAAA,SAAS,EAAE,GAAGC,MAAH,CAAUZ,SAAV,EAAqB,sBAArB;AADoC,KAA3B,EAEnBlB,UAAU,CAACgB,cAAX,KAA8B,YAA9B,GAA6C,aAAa5B,KAAK,CAAC+B,aAAN,CAAoB3B,eAApB,EAAqC,IAArC,CAA1D,GAAuG,IAFpF,EAE0FW,SAF1F;AAX0B,GAA9B,EAcjB,aAAaf,KAAK,CAAC+B,aAAN,CAAoB,KAApB,EAA2B,IAA3B,EAAiClB,KAAjC,EAAwCC,KAAxC,CAdI,CAApB;AAeD,CAzCD;;AA2CA,IAAI6B,gBAAgB,GAAG,SAASA,gBAAT,CAA0BC,KAA1B,EAAiC;AACtD,MAAIC,KAAK,GAAGD,KAAK,CAACC,KAAlB;AAAA,MACIC,KAAK,GAAGF,KAAK,CAACE,KADlB;AAAA,MAEIC,IAAI,GAAGH,KAAK,CAACG,IAFjB;AAAA,MAGIC,QAAQ,GAAGJ,KAAK,CAACI,QAHrB;AAAA,MAIIhC,YAAY,GAAG4B,KAAK,CAAC5B,YAJzB;AAAA,MAKIiC,IAAI,GAAGvD,wBAAwB,CAACkD,KAAD,EAAQ9C,SAAR,CALnC;;AAOA,SAAO,aAAaE,KAAK,CAAC+B,aAAN,CAAoBxC,KAAK,CAAC2D,IAA1B,EAAgCzD,QAAQ,CAAC;AAC3D0D,IAAAA,QAAQ,EAAE,KADiD;AAE3DJ,IAAAA,IAAI,EAAEA,IAFqD;AAG3DD,IAAAA,KAAK,EAAEA,KAHoD;AAI3DM,IAAAA,WAAW,EAAE,IAJ8C,CAIzC;AAJyC;AAM3DC,IAAAA,mBAAmB,EAAE;AACnBC,MAAAA,IAAI,EAAE,kBADa;AAEnBC,MAAAA,MAAM,EAAE,SAASA,MAAT,CAAgB3C,UAAhB,EAA4B4C,IAA5B,EAAkC;AACxC,eAAO,aAAaxD,KAAK,CAAC+B,aAAN,CAAoBrB,mBAApB,EAAyCjB,QAAQ,CAAC;AACpEmB,UAAAA,UAAU,EAAEA,UADwD;AAEpEI,UAAAA,YAAY,EAAEA;AAFsD,SAAD,EAGlEwC,IAHkE,CAAjD,CAApB;AAID;AAPkB;AANsC,GAAD,EAezDP,IAfyD,EAenD;AACPQ,IAAAA,KAAK,EAAEjE,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKa,gBAAL,CAAd,EAAsC4C,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAACQ,KAAvF;AADb,GAfmD,CAAxC,EAiBhBT,QAjBgB,CAApB;AAkBD,CA1BD;;AA4BA,gBAAgB,UAAUU,KAAV,EAAiB;AAC/B,MAAIC,SAAS,GAAGD,KAAK,CAACC,SAAtB;AAAA,MACIb,KAAK,GAAGY,KAAK,CAACZ,KADlB;AAAA,MAEIC,IAAI,GAAGW,KAAK,CAACX,IAFjB;AAAA,MAGI/B,YAAY,GAAG0C,KAAK,CAAC1C,YAHzB;AAAA,MAIIgC,QAAQ,GAAGU,KAAK,CAACV,QAJrB;AAAA,MAKIC,IAAI,GAAGvD,wBAAwB,CAACgE,KAAD,EAAQ3D,UAAR,CALnC;;AAOA,MAAIgD,IAAI,KAAKD,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAACX,MAAzD,CAAJ,IAAwEwB,SAAS,KAAK,SAA1F,EAAqG;AACnG,WAAO,aAAa3D,KAAK,CAAC+B,aAAN,CAAoBY,gBAApB,EAAsClD,QAAQ,CAAC;AACjEsD,MAAAA,IAAI,EAAEA,IAD2D;AAEjED,MAAAA,KAAK,EAAEA,KAF0D;AAGjE9B,MAAAA,YAAY,EAAEA;AAHmD,KAAD,EAI/DiC,IAJ+D,CAA9C,EAIVD,QAJU,CAApB;AAKD;;AAED,SAAO,aAAahD,KAAK,CAAC+B,aAAN,CAAoBxC,KAAK,CAAC2D,IAA1B,EAAgCzD,QAAQ,CAAC;AAC3DqD,IAAAA,KAAK,EAAEA;AADoD,GAAD,EAEzDG,IAFyD,EAEnD;AACPQ,IAAAA,KAAK,EAAEjE,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKa,gBAAL,CAAd,EAAsC4C,IAAI,CAACQ,KAA3C,CADb;AAEPV,IAAAA,IAAI,EAAEA;AAFC,GAFmD,CAAxC,EAKhBC,QALgB,CAApB;AAMD,CAtBD","sourcesContent":["import \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport \"antd/es/popover/style\";\nimport _Popover from \"antd/es/popover\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar _excluded = [\"label\", \"rules\", \"name\", \"children\", \"popoverProps\"],\n    _excluded2 = [\"errorType\", \"rules\", \"name\", \"popoverProps\", \"children\"];\nimport React, { useState, useEffect, useContext } from 'react';\nimport './index.less';\nimport { LoadingOutlined } from '@ant-design/icons';\nvar FIX_INLINE_STYLE = {\n  marginTop: -5,\n  marginBottom: -5,\n  marginLeft: 0,\n  marginRight: 0\n};\n\nvar InlineErrorFormItem = function InlineErrorFormItem(_ref) {\n  var inputProps = _ref.inputProps,\n      input = _ref.input,\n      extra = _ref.extra,\n      errorList = _ref.errorList,\n      popoverProps = _ref.popoverProps;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      visible = _useState2[0],\n      setVisible = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errorStringList = _useState4[0],\n      setErrorList = _useState4[1];\n\n  var _useContext = useContext(_ConfigProvider.ConfigContext),\n      getPrefixCls = _useContext.getPrefixCls;\n\n  useEffect(function () {\n    if (inputProps.validateStatus !== 'validating') {\n      setErrorList(inputProps.errors);\n    }\n  }, [inputProps.errors, inputProps.validateStatus]);\n  var prefixCls = getPrefixCls();\n  return /*#__PURE__*/React.createElement(_Popover, {\n    key: \"popover\",\n    trigger: (popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.trigger) || 'focus',\n    placement: (popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.placement) || 'topRight',\n    visible: errorStringList.length < 1 ? false : visible,\n    onVisibleChange: function onVisibleChange(visibleParams) {\n      if (visibleParams === visible) return;\n      setVisible(visibleParams);\n    },\n    getPopupContainer: popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.getPopupContainer,\n    getTooltipContainer: popoverProps === null || popoverProps === void 0 ? void 0 : popoverProps.getTooltipContainer,\n    content: /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-form-item-with-help\")\n    }, inputProps.validateStatus === 'validating' ? /*#__PURE__*/React.createElement(LoadingOutlined, null) : null, errorList)\n  }, /*#__PURE__*/React.createElement(\"div\", null, input, extra));\n};\n\nvar InternalFormItem = function InternalFormItem(_ref2) {\n  var label = _ref2.label,\n      rules = _ref2.rules,\n      name = _ref2.name,\n      children = _ref2.children,\n      popoverProps = _ref2.popoverProps,\n      rest = _objectWithoutProperties(_ref2, _excluded);\n\n  return /*#__PURE__*/React.createElement(_Form.Item, _extends({\n    preserve: false,\n    name: name,\n    rules: rules,\n    hasFeedback: true // @ts-ignore\n    ,\n    _internalItemRender: {\n      mark: 'pro_table_render',\n      render: function render(inputProps, doms) {\n        return /*#__PURE__*/React.createElement(InlineErrorFormItem, _extends({\n          inputProps: inputProps,\n          popoverProps: popoverProps\n        }, doms));\n      }\n    }\n  }, rest, {\n    style: _objectSpread(_objectSpread({}, FIX_INLINE_STYLE), rest === null || rest === void 0 ? void 0 : rest.style)\n  }), children);\n};\n\nexport default (function (props) {\n  var errorType = props.errorType,\n      rules = props.rules,\n      name = props.name,\n      popoverProps = props.popoverProps,\n      children = props.children,\n      rest = _objectWithoutProperties(props, _excluded2);\n\n  if (name && (rules === null || rules === void 0 ? void 0 : rules.length) && errorType === 'popover') {\n    return /*#__PURE__*/React.createElement(InternalFormItem, _extends({\n      name: name,\n      rules: rules,\n      popoverProps: popoverProps\n    }, rest), children);\n  }\n\n  return /*#__PURE__*/React.createElement(_Form.Item, _extends({\n    rules: rules\n  }, rest, {\n    style: _objectSpread(_objectSpread({}, FIX_INLINE_STYLE), rest.style),\n    name: name\n  }), children);\n});"]},"metadata":{},"sourceType":"module"}