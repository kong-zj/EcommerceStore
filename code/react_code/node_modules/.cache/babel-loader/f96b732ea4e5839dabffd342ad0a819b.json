{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _withPropsReactive = require('../utils/withPropsReactive');\n\nvar _withPropsReactive2 = _interopRequireDefault(_withPropsReactive);\n\nvar _log = require('../utils/log');\n\nvar _log2 = _interopRequireDefault(_log);\n\nvar _common = require('../utils/common');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/*\n * props\n * {\n *  __map__ 父级组件传过来的地图实例\n * }\n */\n\n\nvar configurableProps = ['center', 'radius', 'draggable', 'extData',\n/* 原生的接口中并没有这些对象，这是本组件的扩展 */\n'visible', 'style'];\nvar allProps = configurableProps.concat(['zIndex', 'bubble']);\n\nvar Circle = function (_React$Component) {\n  _inherits(Circle, _React$Component);\n\n  function Circle(props) {\n    _classCallCheck(this, Circle);\n\n    var _this = _possibleConstructorReturn(this, (Circle.__proto__ || Object.getPrototypeOf(Circle)).call(this, props));\n\n    if (typeof window !== 'undefined') {\n      if (!props.__map__) {\n        _log2.default.warning('MAP_INSTANCE_REQUIRED');\n      } else {\n        var self = _this;\n        _this.setterMap = {\n          visible: function visible(val) {\n            if (self.mapCircle) {\n              if (val) {\n                self.mapCircle.show();\n              } else {\n                self.mapCircle.hide();\n              }\n            }\n          },\n          style: function style(val) {\n            self.mapCircle && self.mapCircle.setOptions(val);\n          }\n        };\n        _this.converterMap = {\n          center: _common.toLnglat\n        };\n        _this.state = {\n          loaded: false\n        };\n        _this.map = props.__map__;\n        _this.element = _this.map.getContainer();\n\n        _this.createInstance(props).then(function () {\n          _this.setState({\n            loaded: true\n          });\n\n          _this.props.onInstanceCreated && _this.props.onInstanceCreated();\n        });\n      }\n    }\n\n    return _this;\n  }\n\n  _createClass(Circle, [{\n    key: 'createInstance',\n    value: function createInstance(props) {\n      var options = this.buildCreateOptions(props);\n      options.map = this.map;\n      this.mapCircle = new window.AMap.Circle(options);\n      return Promise.resolve(this.mapCircle);\n    }\n  }, {\n    key: 'buildCreateOptions',\n    value: function buildCreateOptions(props) {\n      var _this2 = this;\n\n      var options = {};\n      allProps.forEach(function (key) {\n        if (key in props) {\n          if (key === 'style' && props.style !== undefined) {\n            var styleItem = Object.keys(props.style);\n            styleItem.forEach(function (item) {\n              // $FlowFixMe\n              options[item] = props.style[item];\n            });\n          } else {\n            options[key] = _this2.getSetterValue(key, props);\n          }\n        }\n      });\n      return options;\n    }\n  }, {\n    key: 'getSetterValue',\n    value: function getSetterValue(key, props) {\n      if (key in this.converterMap) {\n        return this.converterMap[key](props[key]);\n      }\n\n      return props[key];\n    }\n  }, {\n    key: 'renderEditor',\n    value: function renderEditor(children) {\n      if (!children) {\n        return null;\n      }\n\n      if (_react2.default.Children.count(children) !== 1) {\n        return null;\n      }\n\n      return _react2.default.cloneElement(_react2.default.Children.only(children), {\n        __circle__: this.mapCircle,\n        __map__: this.map,\n        __ele__: this.element\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.state.loaded ? this.renderEditor(this.props.children) : null;\n    }\n  }, {\n    key: 'instance',\n    get: function get() {\n      return this.mapCircle;\n    }\n  }]);\n\n  return Circle;\n}(_react2.default.Component);\n\nexports.default = (0, _withPropsReactive2.default)(Circle);","map":{"version":3,"sources":["/home/kzj/project/finalize/final/code/react_code/node_modules/react-amap/lib/circle/index.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","require","_react2","_interopRequireDefault","_withPropsReactive","_withPropsReactive2","_log","_log2","_common","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","configurableProps","allProps","concat","Circle","_React$Component","_this","getPrototypeOf","window","__map__","warning","setterMap","visible","val","mapCircle","show","hide","style","setOptions","converterMap","center","toLnglat","state","loaded","map","element","getContainer","createInstance","then","setState","onInstanceCreated","options","buildCreateOptions","AMap","Promise","resolve","_this2","forEach","undefined","styleItem","keys","item","getSetterValue","renderEditor","children","Children","count","cloneElement","only","__circle__","__ele__","render","get","Component"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _withPropsReactive = require('../utils/withPropsReactive');\n\nvar _withPropsReactive2 = _interopRequireDefault(_withPropsReactive);\n\nvar _log = require('../utils/log');\n\nvar _log2 = _interopRequireDefault(_log);\n\nvar _common = require('../utils/common');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*\n * props\n * {\n *  __map__ 父级组件传过来的地图实例\n * }\n */\n\nvar configurableProps = ['center', 'radius', 'draggable', 'extData',\n\n/* 原生的接口中并没有这些对象，这是本组件的扩展 */\n'visible', 'style'];\n\nvar allProps = configurableProps.concat(['zIndex', 'bubble']);\n\nvar Circle = function (_React$Component) {\n  _inherits(Circle, _React$Component);\n\n  function Circle(props) {\n    _classCallCheck(this, Circle);\n\n    var _this = _possibleConstructorReturn(this, (Circle.__proto__ || Object.getPrototypeOf(Circle)).call(this, props));\n\n    if (typeof window !== 'undefined') {\n      if (!props.__map__) {\n        _log2.default.warning('MAP_INSTANCE_REQUIRED');\n      } else {\n        var self = _this;\n        _this.setterMap = {\n          visible: function visible(val) {\n            if (self.mapCircle) {\n              if (val) {\n                self.mapCircle.show();\n              } else {\n                self.mapCircle.hide();\n              }\n            }\n          },\n          style: function style(val) {\n            self.mapCircle && self.mapCircle.setOptions(val);\n          }\n        };\n        _this.converterMap = {\n          center: _common.toLnglat\n        };\n        _this.state = {\n          loaded: false\n        };\n        _this.map = props.__map__;\n        _this.element = _this.map.getContainer();\n        _this.createInstance(props).then(function () {\n          _this.setState({\n            loaded: true\n          });\n          _this.props.onInstanceCreated && _this.props.onInstanceCreated();\n        });\n      }\n    }\n    return _this;\n  }\n\n  _createClass(Circle, [{\n    key: 'createInstance',\n    value: function createInstance(props) {\n      var options = this.buildCreateOptions(props);\n      options.map = this.map;\n      this.mapCircle = new window.AMap.Circle(options);\n      return Promise.resolve(this.mapCircle);\n    }\n  }, {\n    key: 'buildCreateOptions',\n    value: function buildCreateOptions(props) {\n      var _this2 = this;\n\n      var options = {};\n      allProps.forEach(function (key) {\n        if (key in props) {\n          if (key === 'style' && props.style !== undefined) {\n            var styleItem = Object.keys(props.style);\n            styleItem.forEach(function (item) {\n              // $FlowFixMe\n              options[item] = props.style[item];\n            });\n          } else {\n            options[key] = _this2.getSetterValue(key, props);\n          }\n        }\n      });\n      return options;\n    }\n  }, {\n    key: 'getSetterValue',\n    value: function getSetterValue(key, props) {\n      if (key in this.converterMap) {\n        return this.converterMap[key](props[key]);\n      }\n      return props[key];\n    }\n  }, {\n    key: 'renderEditor',\n    value: function renderEditor(children) {\n      if (!children) {\n        return null;\n      }\n      if (_react2.default.Children.count(children) !== 1) {\n        return null;\n      }\n      return _react2.default.cloneElement(_react2.default.Children.only(children), {\n        __circle__: this.mapCircle,\n        __map__: this.map,\n        __ele__: this.element\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.state.loaded ? this.renderEditor(this.props.children) : null;\n    }\n  }, {\n    key: 'instance',\n    get: function get() {\n      return this.mapCircle;\n    }\n  }]);\n\n  return Circle;\n}(_react2.default.Component);\n\nexports.default = (0, _withPropsReactive2.default)(Circle);"]},"metadata":{},"sourceType":"script"}