{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { useCallback, useEffect, useRef } from 'react';\nimport { useRefFunction } from '../useRefFunction';\n\nfunction useDebounceFn(fn, wait) {\n  var callback = useRefFunction(fn);\n  var timer = useRef();\n  var cancel = useCallback(function () {\n    if (timer.current) {\n      clearTimeout(timer.current);\n      timer.current = null;\n    }\n  }, []);\n  var run = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var _len,\n        args,\n        _key,\n        _args2 = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            for (_len = _args2.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = _args2[_key];\n            }\n\n            if (!(wait === 0 || wait === undefined)) {\n              _context2.next = 3;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", callback.apply(void 0, args));\n\n          case 3:\n            cancel();\n            return _context2.abrupt(\"return\", new Promise(function (resolve) {\n              timer.current = setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.t0 = resolve;\n                        _context.next = 3;\n                        return callback.apply(void 0, args);\n\n                      case 3:\n                        _context.t1 = _context.sent;\n                        (0, _context.t0)(_context.t1);\n\n                      case 5:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              })), wait);\n            }));\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })), [callback, cancel, wait]);\n  useEffect(function () {\n    return cancel;\n  }, [cancel]);\n  return {\n    run: run,\n    cancel: cancel\n  };\n}\n\nexport default useDebounceFn;","map":{"version":3,"sources":["/home/kzj/project/finalize/final/code/react_code/node_modules/@ant-design/pro-card/node_modules/@ant-design/pro-utils/es/hooks/useDebounceFn/index.js"],"names":["_regeneratorRuntime","_asyncToGenerator","useCallback","useEffect","useRef","useRefFunction","useDebounceFn","fn","wait","callback","timer","cancel","current","clearTimeout","run","mark","_callee2","_len","args","_key","_args2","arguments","wrap","_callee2$","_context2","prev","next","length","Array","undefined","abrupt","apply","Promise","resolve","setTimeout","_callee","_callee$","_context","t0","t1","sent","stop"],"mappings":"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","sourcesContent":["import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { useCallback, useEffect, useRef } from 'react';\nimport { useRefFunction } from '../useRefFunction';\n\nfunction useDebounceFn(fn, wait) {\n  var callback = useRefFunction(fn);\n  var timer = useRef();\n  var cancel = useCallback(function () {\n    if (timer.current) {\n      clearTimeout(timer.current);\n      timer.current = null;\n    }\n  }, []);\n  var run = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var _len,\n        args,\n        _key,\n        _args2 = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            for (_len = _args2.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = _args2[_key];\n            }\n\n            if (!(wait === 0 || wait === undefined)) {\n              _context2.next = 3;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", callback.apply(void 0, args));\n\n          case 3:\n            cancel();\n            return _context2.abrupt(\"return\", new Promise(function (resolve) {\n              timer.current = setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.t0 = resolve;\n                        _context.next = 3;\n                        return callback.apply(void 0, args);\n\n                      case 3:\n                        _context.t1 = _context.sent;\n                        (0, _context.t0)(_context.t1);\n\n                      case 5:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              })), wait);\n            }));\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })), [callback, cancel, wait]);\n  useEffect(function () {\n    return cancel;\n  }, [cancel]);\n  return {\n    run: run,\n    cancel: cancel\n  };\n}\n\nexport default useDebounceFn;"]},"metadata":{},"sourceType":"module"}