{"ast":null,"code":"import \"antd/es/card/style\";\nimport _Card from \"antd/es/card\";\nvar _jsxFileName = \"/home/kzj/project/finalize/final/code/react_code/src/pages/TotalChart/index.jsx\";\nimport React, { Component } from 'react';\nimport * as echarts from 'echarts/core';\nimport { GridComponent, TitleComponent, TooltipComponent, ToolboxComponent } from 'echarts/components';\nimport { CanvasRenderer } from 'echarts/renderers';\nimport { LineChart } from 'echarts/charts';\nimport './index.css';\nimport renderStatistics from '../../utils/renderStatistics';\nimport ProductChart from \"../../components/ProductsChart\";\nimport getWeb3 from \"../../utils/getWeb3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\necharts.use([GridComponent, LineChart, CanvasRenderer, TitleComponent, TooltipComponent, ToolboxComponent]);\nexport default class TotalChart extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      web3: null,\n      account: null,\n      escrow_through: null,\n      success_precent: null,\n      product_all_num: null,\n      product_user_num: null,\n      bid_user_num: null,\n      buy_user_num: null,\n      sell_earn: null,\n      arbit_earn: null\n    };\n\n    this.getNumInfo = async process => {\n      //process 可能的值为\n      // escrow_through, success_precent, product_all_num, product_user_num, bid_user_num, buy_user_num, sell_earn, arbit_earn\n      let result = await renderStatistics({\n        process: process,\n        address: address\n      });\n      console.log(\"向后端请求数据 renderStatistics, process = \" + process + \" 请求到的数据为 : \");\n      console.dir(result.data);\n      return result.data;\n    };\n  }\n\n  async componentDidMount() {\n    const web3 = await getWeb3();\n    let account = await web3.eth.getAccounts();\n    console.log(\"---------------统计使用的地址为 : \" + account);\n    let escrow_through = await this.getNumInfo(\"escrow_through\", account);\n    let success_precent = await this.getNumInfo(\"success_precent\", account);\n    let product_all_num = await this.getNumInfo(\"product_all_num\", account);\n    let product_user_num = await this.getNumInfo(\"product_user_num\", account);\n    let bid_user_num = await this.getNumInfo(\"bid_user_num\", account);\n    let buy_user_num = await this.getNumInfo(\"buy_user_num\", account);\n    let sell_earn = await this.getNumInfo(\"sell_earn\", account);\n    let arbit_earn = await this.getNumInfo(\"arbit_earn\", account);\n    this.setState({\n      web3: web3,\n      account: account,\n      escrow_through: escrow_through,\n      success_precent: success_precent,\n      product_all_num: product_all_num,\n      product_user_num: product_user_num,\n      bid_user_num: bid_user_num,\n      buy_user_num: buy_user_num,\n      sell_earn: sell_earn,\n      arbit_earn: arbit_earn\n    });\n  } //注意同步，不然还没得到结果，就把null返回了\n\n\n  render() {\n    const {\n      onlineNumber,\n      offlineNumber,\n      deviceArray\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ProductChart, {\n        escrow_through: this.state.escrow_through / 10e18,\n        success_precent: this.state.success_precent,\n        product_all_num: this.state.product_all_num,\n        product_user_num: this.state.product_user_num,\n        bid_user_num: this.state.bid_user_num,\n        buy_user_num: this.state.buy_user_num,\n        sell_earn: this.state.sell_earn,\n        arbit_earn: this.state.arbit_earn\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"chartContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"TotalChart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"dataContainer\",\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between'\n          },\n          children: /*#__PURE__*/_jsxDEV(_Card, {\n            title: \"\\u6700\\u8FD1\\u6D88\\u606F\",\n            bordered: false,\n            className: 'indexChart',\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '100%'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u4F60\\u597D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"dataChart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/kzj/project/finalize/final/code/react_code/src/pages/TotalChart/index.jsx"],"names":["React","Component","echarts","GridComponent","TitleComponent","TooltipComponent","ToolboxComponent","CanvasRenderer","LineChart","renderStatistics","ProductChart","getWeb3","use","TotalChart","state","web3","account","escrow_through","success_precent","product_all_num","product_user_num","bid_user_num","buy_user_num","sell_earn","arbit_earn","getNumInfo","process","result","address","console","log","dir","data","componentDidMount","eth","getAccounts","setState","render","onlineNumber","offlineNumber","deviceArray","display","justifyContent","width"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport * as echarts from 'echarts/core';\nimport {GridComponent, TitleComponent, TooltipComponent, ToolboxComponent } from 'echarts/components';\nimport {CanvasRenderer} from 'echarts/renderers';\nimport {Card} from 'antd';\n\nimport { LineChart } from 'echarts/charts';\nimport './index.css'\nimport renderStatistics from '../../utils/renderStatistics'\n\nimport ProductChart from \"../../components/ProductsChart\"\n\nimport getWeb3 from \"../../utils/getWeb3\";\n\necharts.use(\n    [GridComponent, LineChart, CanvasRenderer, TitleComponent, TooltipComponent, ToolboxComponent]\n);\n\nexport default class TotalChart extends Component {\n\n    state = {\n        web3 : null,\n        account : null,\n        escrow_through : null,\n        success_precent : null,\n        product_all_num : null,\n        product_user_num : null,\n        bid_user_num : null,\n        buy_user_num : null,\n        sell_earn : null,\n        arbit_earn : null,\n    }\n\n    async componentDidMount () {\n        const web3 = await getWeb3();\n        let account = await web3.eth.getAccounts();\n        console.log(\"---------------统计使用的地址为 : \" + account);\n        let escrow_through = await this.getNumInfo(\"escrow_through\", account);\n        let success_precent = await this.getNumInfo(\"success_precent\", account);\n        let product_all_num = await this.getNumInfo(\"product_all_num\", account);\n        let product_user_num = await this.getNumInfo(\"product_user_num\", account);\n        let bid_user_num = await this.getNumInfo(\"bid_user_num\", account);\n        let buy_user_num = await this.getNumInfo(\"buy_user_num\", account);\n        let sell_earn = await this.getNumInfo(\"sell_earn\", account);\n        let arbit_earn = await this.getNumInfo(\"arbit_earn\", account);\n\n        this.setState({\n             web3: web3,\n             account: account,\n             escrow_through : escrow_through,\n            success_precent : success_precent,\n            product_all_num : product_all_num,\n            product_user_num : product_user_num,\n            bid_user_num : bid_user_num,\n            buy_user_num : buy_user_num ,\n            sell_earn : sell_earn,\n            arbit_earn : arbit_earn,\n        });\n            \n\n\n\n    }\n\n    //注意同步，不然还没得到结果，就把null返回了\n    getNumInfo = async(process) => {\n        //process 可能的值为\n        // escrow_through, success_precent, product_all_num, product_user_num, bid_user_num, buy_user_num, sell_earn, arbit_earn\n\n            let result = await renderStatistics({ process: process, address: address });\n            console.log(\"向后端请求数据 renderStatistics, process = \" + process + \" 请求到的数据为 : \");\n            console.dir(result.data);\n            return result.data;   \n    }\n\n\n    render () {\n        const {onlineNumber, offlineNumber, deviceArray} = this.state;\n        return (\n            <div>\n                {/* 函数组件的传参 */}\n                {/* , escrow_through, success_precent, product_all_num, product_user_num, bid_user_num, buy_user_num, sell_earn, arbit_earn */}\n            <ProductChart\n                escrow_through={this.state.escrow_through/10e18}\n                success_precent={this.state.success_precent}\n                product_all_num={this.state.product_all_num}\n                product_user_num={this.state.product_user_num}\n                bid_user_num={this.state.bid_user_num}\n                buy_user_num={this.state.buy_user_num}\n                sell_earn={this.state.sell_earn}\n                arbit_earn={this.state.arbit_earn}\n\n            ></ProductChart>\n\n            \n            <div id='chartContainer'>\n                <div id=\"TotalChart\">\n                    \n                </div>\n                <div id=\"dataContainer\" style={{display:'flex', justifyContent:'space-between'}}>\n                    <Card title=\"最近消息\" bordered={false} className={'indexChart'}>\n                        <div style={{width:'100%'}}>\n\n                        <p>你好</p>\n                        \n                            <div id='dataChart'/>   \n                        </div>\n                    </Card>\n                </div>\n            </div>\n        \n        </div>\n\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}