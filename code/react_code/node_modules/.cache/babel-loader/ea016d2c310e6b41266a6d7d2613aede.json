{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nvar _excluded = [\"prefixCls\", \"className\", \"style\", \"options\", \"loading\", \"multiple\", \"bordered\", \"onChange\"];\nimport React, { createContext, useCallback, useMemo, useRef, useContext } from 'react';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport CheckCard from './index';\nimport './index.less';\nimport { useMountMergeState } from '@ant-design/pro-utils';\nexport var CardLoading = function CardLoading(_ref) {\n  var prefixCls = _ref.prefixCls;\n  var loadingBlockClass = \"\".concat(prefixCls, \"-loading-block\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-loading-content\")\n  }, /*#__PURE__*/React.createElement(_Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(_Col, {\n    span: 22\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: loadingBlockClass\n  }))), /*#__PURE__*/React.createElement(_Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(_Col, {\n    span: 8\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: loadingBlockClass\n  })), /*#__PURE__*/React.createElement(_Col, {\n    span: 15\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: loadingBlockClass\n  }))), /*#__PURE__*/React.createElement(_Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(_Col, {\n    span: 6\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: loadingBlockClass\n  })), /*#__PURE__*/React.createElement(_Col, {\n    span: 18\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: loadingBlockClass\n  }))), /*#__PURE__*/React.createElement(_Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(_Col, {\n    span: 13\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: loadingBlockClass\n  })), /*#__PURE__*/React.createElement(_Col, {\n    span: 9\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: loadingBlockClass\n  }))), /*#__PURE__*/React.createElement(_Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(_Col, {\n    span: 4\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: loadingBlockClass\n  })), /*#__PURE__*/React.createElement(_Col, {\n    span: 3\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: loadingBlockClass\n  })), /*#__PURE__*/React.createElement(_Col, {\n    span: 16\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: loadingBlockClass\n  }))));\n};\nexport var CheckCardGroupConnext = /*#__PURE__*/createContext(null);\n\nvar CheckCardGroup = function CheckCardGroup(props) {\n  var customizePrefixCls = props.prefixCls,\n      className = props.className,\n      style = props.style,\n      _props$options = props.options,\n      options = _props$options === void 0 ? [] : _props$options,\n      _props$loading = props.loading,\n      loading = _props$loading === void 0 ? false : _props$loading,\n      _props$multiple = props.multiple,\n      multiple = _props$multiple === void 0 ? false : _props$multiple,\n      _props$bordered = props.bordered,\n      bordered = _props$bordered === void 0 ? true : _props$bordered,\n      onChange = props.onChange,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var antdContext = useContext(_ConfigProvider.ConfigContext);\n  var getOptions = useCallback(function () {\n    return options === null || options === void 0 ? void 0 : options.map(function (option) {\n      if (typeof option === 'string') {\n        return {\n          title: option,\n          value: option\n        };\n      }\n\n      return option;\n    });\n  }, [options]);\n  var prefixCls = antdContext.getPrefixCls('pro-checkcard', customizePrefixCls);\n  var groupPrefixCls = \"\".concat(prefixCls, \"-group\");\n  var domProps = omit(restProps, ['children', 'defaultValue', 'value', 'disabled', 'size']);\n\n  var _useMountMergeState = useMountMergeState(props.defaultValue, {\n    value: props.value,\n    onChange: props.onChange\n  }),\n      _useMountMergeState2 = _slicedToArray(_useMountMergeState, 2),\n      stateValue = _useMountMergeState2[0],\n      setStateValue = _useMountMergeState2[1];\n\n  var registerValueMap = useRef(new Map());\n\n  var registerValue = function registerValue(value) {\n    var _registerValueMap$cur;\n\n    (_registerValueMap$cur = registerValueMap.current) === null || _registerValueMap$cur === void 0 ? void 0 : _registerValueMap$cur.set(value, true);\n  };\n\n  var cancelValue = function cancelValue(value) {\n    var _registerValueMap$cur2;\n\n    (_registerValueMap$cur2 = registerValueMap.current) === null || _registerValueMap$cur2 === void 0 ? void 0 : _registerValueMap$cur2.delete(value);\n  };\n\n  var toggleOption = function toggleOption(option) {\n    if (!multiple) {\n      var changeValue;\n      changeValue = stateValue; // 单选模式\n\n      if (changeValue === option.value) {\n        changeValue = undefined;\n      } else {\n        changeValue = option.value;\n      }\n\n      setStateValue === null || setStateValue === void 0 ? void 0 : setStateValue(changeValue);\n    }\n\n    if (multiple) {\n      var _changeValue2, _changeValue2$filter;\n\n      var _changeValue = [];\n      var stateValues = stateValue;\n      var hasOption = stateValues === null || stateValues === void 0 ? void 0 : stateValues.includes(option.value);\n      _changeValue = _toConsumableArray(stateValues || []);\n\n      if (!hasOption) {\n        _changeValue.push(option.value);\n      }\n\n      if (hasOption) {\n        _changeValue = _changeValue.filter(function (itemValue) {\n          return itemValue !== option.value;\n        });\n      }\n\n      var newOptions = getOptions();\n      var newValue = (_changeValue2 = _changeValue) === null || _changeValue2 === void 0 ? void 0 : (_changeValue2$filter = _changeValue2.filter(function (val) {\n        return registerValueMap.current.has(val);\n      })) === null || _changeValue2$filter === void 0 ? void 0 : _changeValue2$filter.sort(function (a, b) {\n        var indexA = newOptions.findIndex(function (opt) {\n          return opt.value === a;\n        });\n        var indexB = newOptions.findIndex(function (opt) {\n          return opt.value === b;\n        });\n        return indexA - indexB;\n      });\n      setStateValue(newValue);\n    }\n  };\n\n  var children = useMemo(function () {\n    if (loading) {\n      return new Array(options.length || React.Children.toArray(props.children).length || 1).fill(0) // eslint-disable-next-line react/no-array-index-key\n      .map(function (_, index) {\n        return /*#__PURE__*/React.createElement(CheckCard, {\n          key: index,\n          loading: true\n        });\n      });\n    }\n\n    if (options && options.length > 0) {\n      var optionValue = stateValue;\n      return getOptions().map(function (option) {\n        var _option$size;\n\n        return /*#__PURE__*/React.createElement(CheckCard, {\n          key: option.value.toString(),\n          disabled: option.disabled,\n          size: (_option$size = option.size) !== null && _option$size !== void 0 ? _option$size : props.size,\n          value: option.value,\n          checked: multiple ? optionValue === null || optionValue === void 0 ? void 0 : optionValue.includes(option.value) : optionValue === option.value,\n          onChange: option.onChange,\n          title: option.title,\n          avatar: option.avatar,\n          description: option.description,\n          cover: option.cover\n        });\n      });\n    }\n\n    return props.children;\n  }, [getOptions, loading, multiple, options, props.children, props.size, stateValue]);\n  var classString = classNames(groupPrefixCls, className);\n  return /*#__PURE__*/React.createElement(CheckCardGroupConnext.Provider, {\n    value: {\n      toggleOption: toggleOption,\n      bordered: bordered,\n      value: stateValue,\n      disabled: props.disabled,\n      size: props.size,\n      loading: props.loading,\n      multiple: props.multiple,\n      // https://github.com/ant-design/ant-design/issues/16376\n      registerValue: registerValue,\n      cancelValue: cancelValue\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: classString,\n    style: style\n  }, domProps), children));\n};\n\nexport default CheckCardGroup;","map":{"version":3,"sources":["/home/kzj/project/finalize/final/code/react_code/node_modules/@ant-design/pro-card/es/components/CheckCard/Group.js"],"names":["_extends","_toConsumableArray","_slicedToArray","_ConfigProvider","_objectWithoutProperties","_Row","_Col","_excluded","React","createContext","useCallback","useMemo","useRef","useContext","classNames","omit","CheckCard","useMountMergeState","CardLoading","_ref","prefixCls","loadingBlockClass","concat","createElement","className","gutter","span","CheckCardGroupConnext","CheckCardGroup","props","customizePrefixCls","style","_props$options","options","_props$loading","loading","_props$multiple","multiple","_props$bordered","bordered","onChange","restProps","antdContext","ConfigContext","getOptions","map","option","title","value","getPrefixCls","groupPrefixCls","domProps","_useMountMergeState","defaultValue","_useMountMergeState2","stateValue","setStateValue","registerValueMap","Map","registerValue","_registerValueMap$cur","current","set","cancelValue","_registerValueMap$cur2","delete","toggleOption","changeValue","undefined","_changeValue2","_changeValue2$filter","_changeValue","stateValues","hasOption","includes","push","filter","itemValue","newOptions","newValue","val","has","sort","a","b","indexA","findIndex","opt","indexB","children","Array","length","Children","toArray","fill","_","index","key","optionValue","_option$size","toString","disabled","size","checked","avatar","description","cover","classString","Provider"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport \"antd/es/row/style\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nvar _excluded = [\"prefixCls\", \"className\", \"style\", \"options\", \"loading\", \"multiple\", \"bordered\", \"onChange\"];\nimport React, { createContext, useCallback, useMemo, useRef, useContext } from 'react';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport CheckCard from './index';\nimport './index.less';\nimport { useMountMergeState } from '@ant-design/pro-utils';\nexport var CardLoading = function CardLoading(_ref) {\n  var prefixCls = _ref.prefixCls;\n  var loadingBlockClass = \"\".concat(prefixCls, \"-loading-block\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-loading-content\")\n  }, /*#__PURE__*/React.createElement(_Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(_Col, {\n    span: 22\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: loadingBlockClass\n  }))), /*#__PURE__*/React.createElement(_Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(_Col, {\n    span: 8\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: loadingBlockClass\n  })), /*#__PURE__*/React.createElement(_Col, {\n    span: 15\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: loadingBlockClass\n  }))), /*#__PURE__*/React.createElement(_Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(_Col, {\n    span: 6\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: loadingBlockClass\n  })), /*#__PURE__*/React.createElement(_Col, {\n    span: 18\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: loadingBlockClass\n  }))), /*#__PURE__*/React.createElement(_Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(_Col, {\n    span: 13\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: loadingBlockClass\n  })), /*#__PURE__*/React.createElement(_Col, {\n    span: 9\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: loadingBlockClass\n  }))), /*#__PURE__*/React.createElement(_Row, {\n    gutter: 8\n  }, /*#__PURE__*/React.createElement(_Col, {\n    span: 4\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: loadingBlockClass\n  })), /*#__PURE__*/React.createElement(_Col, {\n    span: 3\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: loadingBlockClass\n  })), /*#__PURE__*/React.createElement(_Col, {\n    span: 16\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: loadingBlockClass\n  }))));\n};\nexport var CheckCardGroupConnext = /*#__PURE__*/createContext(null);\n\nvar CheckCardGroup = function CheckCardGroup(props) {\n  var customizePrefixCls = props.prefixCls,\n      className = props.className,\n      style = props.style,\n      _props$options = props.options,\n      options = _props$options === void 0 ? [] : _props$options,\n      _props$loading = props.loading,\n      loading = _props$loading === void 0 ? false : _props$loading,\n      _props$multiple = props.multiple,\n      multiple = _props$multiple === void 0 ? false : _props$multiple,\n      _props$bordered = props.bordered,\n      bordered = _props$bordered === void 0 ? true : _props$bordered,\n      onChange = props.onChange,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var antdContext = useContext(_ConfigProvider.ConfigContext);\n  var getOptions = useCallback(function () {\n    return options === null || options === void 0 ? void 0 : options.map(function (option) {\n      if (typeof option === 'string') {\n        return {\n          title: option,\n          value: option\n        };\n      }\n\n      return option;\n    });\n  }, [options]);\n  var prefixCls = antdContext.getPrefixCls('pro-checkcard', customizePrefixCls);\n  var groupPrefixCls = \"\".concat(prefixCls, \"-group\");\n  var domProps = omit(restProps, ['children', 'defaultValue', 'value', 'disabled', 'size']);\n\n  var _useMountMergeState = useMountMergeState(props.defaultValue, {\n    value: props.value,\n    onChange: props.onChange\n  }),\n      _useMountMergeState2 = _slicedToArray(_useMountMergeState, 2),\n      stateValue = _useMountMergeState2[0],\n      setStateValue = _useMountMergeState2[1];\n\n  var registerValueMap = useRef(new Map());\n\n  var registerValue = function registerValue(value) {\n    var _registerValueMap$cur;\n\n    (_registerValueMap$cur = registerValueMap.current) === null || _registerValueMap$cur === void 0 ? void 0 : _registerValueMap$cur.set(value, true);\n  };\n\n  var cancelValue = function cancelValue(value) {\n    var _registerValueMap$cur2;\n\n    (_registerValueMap$cur2 = registerValueMap.current) === null || _registerValueMap$cur2 === void 0 ? void 0 : _registerValueMap$cur2.delete(value);\n  };\n\n  var toggleOption = function toggleOption(option) {\n    if (!multiple) {\n      var changeValue;\n      changeValue = stateValue; // 单选模式\n\n      if (changeValue === option.value) {\n        changeValue = undefined;\n      } else {\n        changeValue = option.value;\n      }\n\n      setStateValue === null || setStateValue === void 0 ? void 0 : setStateValue(changeValue);\n    }\n\n    if (multiple) {\n      var _changeValue2, _changeValue2$filter;\n\n      var _changeValue = [];\n      var stateValues = stateValue;\n      var hasOption = stateValues === null || stateValues === void 0 ? void 0 : stateValues.includes(option.value);\n      _changeValue = _toConsumableArray(stateValues || []);\n\n      if (!hasOption) {\n        _changeValue.push(option.value);\n      }\n\n      if (hasOption) {\n        _changeValue = _changeValue.filter(function (itemValue) {\n          return itemValue !== option.value;\n        });\n      }\n\n      var newOptions = getOptions();\n      var newValue = (_changeValue2 = _changeValue) === null || _changeValue2 === void 0 ? void 0 : (_changeValue2$filter = _changeValue2.filter(function (val) {\n        return registerValueMap.current.has(val);\n      })) === null || _changeValue2$filter === void 0 ? void 0 : _changeValue2$filter.sort(function (a, b) {\n        var indexA = newOptions.findIndex(function (opt) {\n          return opt.value === a;\n        });\n        var indexB = newOptions.findIndex(function (opt) {\n          return opt.value === b;\n        });\n        return indexA - indexB;\n      });\n      setStateValue(newValue);\n    }\n  };\n\n  var children = useMemo(function () {\n    if (loading) {\n      return new Array(options.length || React.Children.toArray(props.children).length || 1).fill(0) // eslint-disable-next-line react/no-array-index-key\n      .map(function (_, index) {\n        return /*#__PURE__*/React.createElement(CheckCard, {\n          key: index,\n          loading: true\n        });\n      });\n    }\n\n    if (options && options.length > 0) {\n      var optionValue = stateValue;\n      return getOptions().map(function (option) {\n        var _option$size;\n\n        return /*#__PURE__*/React.createElement(CheckCard, {\n          key: option.value.toString(),\n          disabled: option.disabled,\n          size: (_option$size = option.size) !== null && _option$size !== void 0 ? _option$size : props.size,\n          value: option.value,\n          checked: multiple ? optionValue === null || optionValue === void 0 ? void 0 : optionValue.includes(option.value) : optionValue === option.value,\n          onChange: option.onChange,\n          title: option.title,\n          avatar: option.avatar,\n          description: option.description,\n          cover: option.cover\n        });\n      });\n    }\n\n    return props.children;\n  }, [getOptions, loading, multiple, options, props.children, props.size, stateValue]);\n  var classString = classNames(groupPrefixCls, className);\n  return /*#__PURE__*/React.createElement(CheckCardGroupConnext.Provider, {\n    value: {\n      toggleOption: toggleOption,\n      bordered: bordered,\n      value: stateValue,\n      disabled: props.disabled,\n      size: props.size,\n      loading: props.loading,\n      multiple: props.multiple,\n      // https://github.com/ant-design/ant-design/issues/16376\n      registerValue: registerValue,\n      cancelValue: cancelValue\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: classString,\n    style: style\n  }, domProps), children));\n};\n\nexport default CheckCardGroup;"]},"metadata":{},"sourceType":"module"}